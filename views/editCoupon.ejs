<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <!-- Bootstrap Core CSS -->
     <link href="/css/vendors/bootstrap.min.css" rel="stylesheet">

     <!-- MetisMenu CSS -->
     <link href="/css/vendors/metisMenu.min.css" rel="stylesheet">

     <!-- DataTables CSS -->
     <link href="/css/vendors/dataTables/dataTables.bootstrap.css" rel="stylesheet">

     <!-- DataTables Responsive CSS -->
     <link href="/css/vendors/dataTables/dataTables.responsive.css" rel="stylesheet">

     <!-- Custom CSS -->
     <link href="/css/vendors/startmin.css" rel="stylesheet">

     <!-- Custom Fonts -->
     <link href="/css/vendors/font-awesome.min.css" rel="stylesheet" type="text/css">

     <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
     <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
     <!--[if lt IE 9]>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
     <![endif]-->

     <style>
         .custom-form {
             max-width: 400px;
             height: 485px;
             margin: auto;
             margin-top: 100px;
             padding-bottom: 50px
         }
         .edit{
             margin-left: 10px;
         }
     </style>

</head>
<body>
    <form action="/edit-coupon/<%=couponData._id%>" method="post" onsubmit="return validate()">
        <div class="container">
            <div class="custom-form">
                <h2 class="mb-4">Coupon-Management</h2>
                
                <div class="bg-danger" id="error-message-container">message</div>
                    <div class="form-group">
                        <label for="name">Discount Type:</label>
                        <select id="discountType" name="discountType">
                            <option <%= "Minimum Purchase" === couponData.discountType ? 'selected' : '' %>>Minimum Purchase</option>
                            <option <%= "First Purchase" === couponData.discountType ? 'selected' : '' %>>First Purchase</option>
                        </select>
                                         
                    </div>
                    <div class="form-group">
                        <label for="name">Discount Value (in %):</label>
                        <input type="text" value="<%=couponData.discountValue%>" name="discountValue" id="discountValue">
                                         
                    </div>
                    <div class="form-group">
                        <label for="name">Minimum Purchase Amount:</label>
                        <input type="text" name="minimumCartAmount" value="<%=couponData.minimumCartAmount%>" id="minimumCartAmount">
                                         
                    </div>
                    <div class="form-group">
                        <label for="name">Expiry Date</label>
                       <input type="date" name="expiry"  id="expiry" value="<%=formattedexpiry%>">
                                         
                    </div>
        
                    
                    <button type="submit" class="btn btn-primary">Insert</button>
                
            </div>
        </div>
    </form>
    <script>
         function validate() {
      let categoryname= document.getElementById("categoryName");
     
      const errorMessageContainer = document.getElementById("error-message-container");

      let trimmedCategoryname = categoryname.value.trim();
      let expression = /^[A-Za-z\-]+$/

      errorMessageContainer.innerText = ""; // Clear previous error messages

      if (trimmedCategoryname === "") {
        errorMessageContainer.innerText = "Please fill the field";
        return false;
      }
      if(!expression.test(trimmedCategoryname)){
        errorMessageContainer.innerText = "Symbols are not allowded";
        return false
      }
        return true
      
    }
        </script>

    </script>
</body>
</html>